# Инструмент визуализации графа зависимостей

## 1. Общее описание

Это консольное CLI-приложение, разработанное на Python в рамках учебного задания. Инструмент предназначен для **анализа и визуализации графа транзитивных зависимостей** пакета, имитируя работу менеджера пакетов (на примере формата **Alpine Linux APK**), но без использования сторонних библиотек для сбора зависимостей.

Приложение реализует следующие ключевые функции:

* **Сбор данных:** Имитация получения метаданных репозитория с удаленного URL или из локального тестового файла.
* **Построение графа:** Использование алгоритма **обхода в ширину (BFS)** без рекурсии для построения полного транзитивного графа зависимостей.
* **Обработка ошибок:** Корректное обнаружение и вывод **циклических зависимостей**.
* **Дополнительные операции:** Вывод списка **обратных зависимостей** (пакетов, которые зависят от целевого).
* **Визуализация:** Вывод графа в формате **ASCII-дерева**, плоского списка и в коде диаграмм **Mermaid**.

---

## 2. Описание функций и настроек

### 2.1. Конфигурация (Опции командной строки)

Приложение настраивается полностью через аргументы командной строки с помощью `argparse`.

| Флаг | Полное имя | Описание | Обязательность | Варианты |
| :--- | :--- | :--- | :--- | :--- |
| `-p` | `--package` | **Имя анализируемого пакета.** | Да | Любая строка |
| `-r` | `--repo-path` | URL-адрес репозитория или путь к файлу (в режиме `local`). | Да | URL или путь к файлу |
| `-m` | `--repo-mode` | **Режим работы с репозиторием.** | Да | `remote`, `local` |
| | `--ascii-mode` | **Режим вывода графа зависимостей.** | Нет | `tree`, `list` (по умолчанию) |

### 2.2. Описание ключевых функций

| Функция | Назначение | Используемый алгоритм |
| :--- | :--- | :--- |
| `fetch_repo_data()` | Имитирует чтение данных репозитория на основе режима (`remote` использует встроенную заглушку, `local` читает JSON файл). | Имитация I/O. |
| `build_dependency_graph_bfs()` | **Основной алгоритм.** Построение полного транзитивного графа зависимостей. | **Обход в ширину (BFS)**. |
| `invert_graph()` | Создает обратный граф из полных данных репозитория. | Линейный обход. |
| `find_reverse_dependencies()` | Находит все прямые и транзитивные обратные зависимости для заданного пакета. | Обход (аналог BFS) по обратному графу. |
| `print_ascii_tree()` | Форматированный вывод графа в виде ASCII-дерева. | Рекурсивный обход для форматирования. |
| `generate_mermaid_graph()` | Генерирует текстовое описание графа на языке Mermaid. | Линейный обход. |

---

## 3. Описание команд для запуска

Проект не требует предварительной сборки. Для работы необходим только интерпретатор Python 3.

Протестировать работоспособность программы можно, запустив файлы **.bat** из репозитория.

---

## 4. Примеры использования

Запустить программу можно, вызвав **Командную строку** Windows из папки, в которую был скопирован репозиторий, и написав, например, данную команду: `python Program.py --package my-project --repo-path https://repo.url.com --repo-mode remote --ascii-mode tree`.

---
